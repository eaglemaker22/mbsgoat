/* Base Styles */
body {
    margin: 0;
    font-family: 'IBM Plex Mono', monospace;
    background-color: #0d1117; /* Dark background for terminal feel */
    color: #e6edf3; /* Light text color */
    display: flex;
    justify-content: center;
    align-items: flex-start; /* Align to top */
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;
}

.terminal-container {
    background-color: #161b22; /* Slightly lighter terminal background */
    border: 1px solid #30363d;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    width: 100%;
    max-width: 1400px; /* Increased max-width for more content */
    padding: 20px;
    box-sizing: border-box;
    overflow-x: auto; /* Allow horizontal scrolling for wide tables */
}

/* Header */
.terminal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px dashed #30363d; /* Dashed line for terminal feel */
}

.terminal-header .title {
    font-size: 1.8em;
    font-weight: bold;
    color: #58a6ff; /* Blue for title */
}

.terminal-header .status {
    font-size: 0.9em;
    color: #8b949e;
}

.terminal-header .username {
    color: #a5d6ff;
}

.terminal-header .cursor {
    animation: blink-caret 1s step-end infinite;
    font-weight: bold;
}

@keyframes blink-caret {
    from, to { border-color: transparent }
    50% { border-color: #e6edf3; }
}

.terminal-header .access {
    color: #3fb950; /* Green for access granted */
}

/* Sections */
.terminal-section {
    margin-bottom: 30px;
    padding: 15px;
    background-color: #0d1117; /* Darker background for sections */
    border: 1px solid #30363d;
    border-radius: 6px;
}

.terminal-section h2 {
    font-size: 1.4em;
    color: #c9d1d9;
    margin-top: 0;
    margin-bottom: 15px;
    border-bottom: 1px solid #30363d;
    padding-bottom: 8px;
}

/* Market Snapshot Grid */
.snapshot-section {
    background-color: #161b22; /* Keep snapshot section slightly lighter */
}

.snapshot-grid {
    display: grid;
    /* Adjusted for 12 columns and tighter spacing */
    grid-template-columns:
        6em   /* MBS Label */
        4em   /* MBS Price */
        6em   /* MBS Today */
        5em   /* Treasuries Label */
        4em   /* Treasury Yield */
        6em   /* Treasury Today */
        6em   /* Rates Label */
        4em   /* Rates Today */
        4em   /* Rates Change (NEW) */
        6em   /* Rates Yesterday */
        6em   /* Equities Label */
        6em;  /* Equities Today */
    gap: 5px; /* Reduced gap */
    padding: 10px 0;
    border-bottom: 1px dashed #30363d;
}

.snapshot-grid-header {
    font-weight: bold;
    color: #8b949e;
    text-transform: uppercase;
}

.snapshot-grid span {
    padding: 5px;
    text-align: center;
    white-space: nowrap; /* Prevent wrapping */
    overflow: hidden; /* Hide overflow */
    text-overflow: ellipsis; /* Add ellipsis for overflow */
}

/* Specific styling for the snapshot values */
.snapshot-grid #umbs55Value,
.snapshot-grid #gnma55Value,
.snapshot-grid #us10yValue,
.snapshot-grid #us30yValue,
.snapshot-grid #fixed30yValue,
.snapshot-grid #fixed15yValue,
.snapshot-grid #fixed30yYesterday,
.snapshot-grid #fixed15yYesterday {
    font-weight: bold;
    color: #e6edf3;
}

/* Change indicators with colors */
.positive {
    color: #3fb950; /* Green for positive change */
}

.negative {
    color: #f85149; /* Red for negative change */
}

.positive-bg {
    background-color: rgba(63, 185, 80, 0.1); /* Light green background */
    border-radius: 4px;
}

.negative-bg {
    background-color: rgba(248, 81, 73, 0.1); /* Light red background */
    border-radius: 4px;
}

.neutral-bg {
    background-color: rgba(139, 148, 158, 0.05); /* Very subtle grey background */
    border-radius: 4px;
}

/* Tables */
.terminal-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

.terminal-table th,
.terminal-table td {
    border: 1px solid #30363d;
    padding: 10px;
    text-align: left;
    white-space: nowrap; /* Prevent wrapping in table cells */
    overflow: hidden;
    text-overflow: ellipsis;
}

.terminal-table th {
    background-color: #21262d;
    color: #c9d1d9;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 0.9em;
}

.terminal-table tr:nth-child(even) {
    background-color: #161b22;
}

.terminal-table tr:hover {
    background-color: #21262d;
}

/* Specific table cell styling for values */
.terminal-table td {
    color: #e6edf3;
}

/* Debug Section */
.debug-section {
    margin-top: 30px;
    padding: 15px;
    background-color: #161b22;
    border: 1px solid #30363d;
    border-radius: 6px;
    color: #8b949e;
    font-size: 0.8em;
}

.debug-section h3 {
    color: #58a6ff;
    margin-top: 0;
    margin-bottom: 10px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .terminal-container {
        padding: 10px;
    }

    .terminal-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .terminal-header .status {
        margin-top: 5px;
    }

    .snapshot-grid {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); /* More flexible on small screens */
        font-size: 0.8em;
    }

    .terminal-table th,
    .terminal-table td {
        padding: 6px;
        font-size: 0.8em;
    }
}

/* NEW: Highlight Animation */
@keyframes highlight-fade {
    from { background-color: rgba(255, 255, 0, 0.5); } /* Yellowish flash */
    to { background-color: transparent; }
}

.highlight-on-update {
    animation: highlight-fade 1s ease-out;
}
